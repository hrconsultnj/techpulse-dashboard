(()=>{var e={};e.id=922,e.ids=[922],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2969:(e,t,o)=>{"use strict";o.r(t),o.d(t,{patchFetch:()=>d,routeModule:()=>u,serverHooks:()=>h,workAsyncStorage:()=>c,workUnitAsyncStorage:()=>l});var r={};o.r(r),o.d(r,{GET:()=>p,POST:()=>i});var s=o(6559),n=o(8088),a=o(7719);async function i(e){try{let t;console.log("=== Webhook Proxy Called ===");let{searchParams:o}=new URL(e.url),r=o.get("type")||"default",s={"user-signup":"https://n8n.techpulse.ai/webhook/user-signup","marketing-email":"https://n8n.techpulse.ai/webhook/marketing-email","crm-contact":"https://n8n.techpulse.ai/webhook/crm-contact","customer-support":"https://n8n.techpulse.ai/webhook/customer-support",analytics:"https://n8n.techpulse.ai/webhook/analytics"}[r];if(!s)return console.error(`N8N webhook URL not configured for type: ${r}`),Response.json({error:"Webhook URL not configured"},{status:500});let n=await e.text();console.log("Forwarding to n8n:",s),console.log("Request body length:",n.length);let a=await fetch(s,{method:"POST",headers:{"Content-Type":e.headers.get("Content-Type")||"application/json"},body:n});if(console.log("N8N response status:",a.status),!a.ok){let e=await a.text();throw console.error("N8N error response:",e),Error(`N8N webhook failed: ${a.status} ${e}`)}let i=a.headers.get("content-type");return t=i?.includes("application/json")?await a.json():{response:await a.text()},console.log("N8N response:",t),Response.json(t)}catch(e){return console.error("Webhook proxy error:",e),Response.json({response:"I'm having trouble connecting to the backend service. Please try again in a moment.",error:"Webhook proxy failed",details:e instanceof Error?e.message:"Unknown error"},{status:500})}}async function p(){return Response.json({message:"TechPulse Webhook Proxy",status:"active",availableTypes:["user-signup","marketing-email","crm-contact","customer-support","analytics"]})}let u=new s.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/webhook-proxy/route",pathname:"/api/webhook-proxy",filename:"route",bundlePath:"app/api/webhook-proxy/route"},resolvedPagePath:"/Users/helderrodrigues/Projects/techpulse-dashboard/src/app/api/webhook-proxy/route.ts",nextConfigOutput:"",userland:r}),{workAsyncStorage:c,workUnitAsyncStorage:l,serverHooks:h}=u;function d(){return(0,a.patchFetch)({workAsyncStorage:c,workUnitAsyncStorage:l})}},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6487:()=>{},6559:(e,t,o)=>{"use strict";e.exports=o(4870)},8335:()=>{},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var t=require("../../../webpack-runtime.js");t.C(e);var o=e=>t(t.s=e),r=t.X(0,[719],()=>o(2969));module.exports=r})();