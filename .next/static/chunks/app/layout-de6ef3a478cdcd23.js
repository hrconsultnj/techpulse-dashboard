(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{347:()=>{},4769:(e,s,a)=>{Promise.resolve().then(a.bind(a,9967))},9967:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>u});var r=a(5155),t=a(5695);a(347);var l=a(2115),n=a(6874),i=a.n(n),c=a(7347),o=a(4947);let m=()=>{var e,s;let[a,n]=(0,l.useState)(!1),[m,d]=(0,l.useState)(""),{user:x,profile:h,signOut:u}=(0,o.A)(),g=(0,t.useRouter)(),f=(0,l.useCallback)(async()=>{try{await u(),g.push("/login")}catch(e){console.error("Logout error:",e)}},[u,g]),p=(0,l.useCallback)(e=>{e.preventDefault(),m.trim()&&console.log("Search query:",m)},[m]),b=(0,l.useCallback)(e=>{d(e.target.value)},[]),y=(0,l.useCallback)(()=>{n(!1)},[]),j=(0,l.useCallback)(()=>{n(e=>!e)},[]),v=(null==h?void 0:h.full_name)||(null==x?void 0:x.email)||"User",N=(null==h?void 0:h.full_name)?h.full_name.split(" ").map(e=>e[0]).join("").toUpperCase():(null==x||null==(s=x.email)||null==(e=s[0])?void 0:e.toUpperCase())||"U";return(0,r.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsxs)(i(),{href:"/dashboard",className:"flex items-center",children:[(0,r.jsx)("img",{src:"/images/techpulse-logo-light.png",alt:"TechPulse",className:"h-8 w-auto"}),(0,r.jsx)("span",{className:"ml-2 text-xl font-semibold text-gray-900",children:"TechPulse"})]})}),(0,r.jsx)("div",{className:"flex-1 max-w-md mx-8",children:(0,r.jsxs)("form",{onSubmit:p,className:"relative",children:[(0,r.jsx)("input",{type:"text",placeholder:"Search vehicles, tickets, customers...",value:m,onChange:b,className:"w-full px-4 py-2 pl-10 pr-4 text-gray-900 placeholder-gray-500 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)(c.In,{icon:"feather:search",className:"h-5 w-5 text-gray-400"})})]})}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(null==h?void 0:h.role)&&(0,r.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat("admin"===h.role?"bg-purple-100 text-purple-800":"supervisor"===h.role?"bg-blue-100 text-blue-800":"technician"===h.role?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:h.role.charAt(0).toUpperCase()+h.role.slice(1)}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("button",{onClick:j,className:"flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 hover:bg-gray-50 px-2 py-1 transition-colors","aria-label":"User menu","aria-expanded":a,children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full flex items-center justify-center text-white font-medium text-sm",children:N}),(0,r.jsx)("span",{className:"ml-2 text-gray-700 font-medium max-w-32 truncate",children:v}),(0,r.jsx)("svg",{className:"ml-1 h-4 w-4 text-gray-400 transition-transform ".concat(a?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),a&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"fixed inset-0 z-40 lg:hidden",onClick:y,"aria-hidden":"true"}),(0,r.jsxs)("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-md shadow-lg py-1 z-50 border border-gray-200",children:[(0,r.jsxs)("div",{className:"px-4 py-3 border-b border-gray-100",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900",children:v}),(0,r.jsx)("p",{className:"text-sm text-gray-500 truncate",children:null==x?void 0:x.email}),(null==h?void 0:h.company_name)&&(0,r.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:h.company_name})]}),(0,r.jsxs)(i(),{href:"/settings",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",onClick:y,children:[(0,r.jsx)(c.In,{icon:"feather:settings",className:"mr-3 h-4 w-4"}),"Settings"]}),(0,r.jsxs)("button",{onClick:f,className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[(0,r.jsx)(c.In,{icon:"feather:log-out",className:"mr-3 h-4 w-4"}),"Sign out"]})]})]})]})]})]})})})},d=()=>{let e=(0,t.usePathname)();return(0,r.jsx)("div",{className:"w-64 bg-gray-900 min-h-screen",children:(0,r.jsx)("div",{className:"p-4",children:(0,r.jsx)("nav",{className:"space-y-2",children:[{name:"Dashboard",href:"/dashboard",icon:"material-symbols:dashboard"},{name:"AI Chat",href:"/chat",icon:"feather:message-square"},{name:"Analytics",href:"/analytics",icon:"streamline-freehand:analytics-graph-line-triple"},{name:"Users",href:"/users",icon:"feather:users"},{name:"Page Builder",href:"/page-builder",icon:"feather:layout"},{name:"Settings",href:"/settings",icon:"feather:settings"}].map(s=>{let a=e===s.href;return(0,r.jsxs)(i(),{href:s.href,className:"flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors ".concat(a?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"),children:[(0,r.jsx)(c.In,{icon:s.icon,className:"mr-3 h-5 w-5"}),s.name]},s.name)})})})})},x=()=>(0,r.jsx)("footer",{className:"bg-white border-t border-gray-200 py-4",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("div",{className:"text-sm text-gray-500",children:"\xa9 2024 TechPulse Dashboard. All rights reserved."}),(0,r.jsxs)("div",{className:"flex space-x-6",children:[(0,r.jsx)("a",{href:"#",className:"text-sm text-gray-500 hover:text-gray-900",children:"Privacy Policy"}),(0,r.jsx)("a",{href:"#",className:"text-sm text-gray-500 hover:text-gray-900",children:"Terms of Service"}),(0,r.jsx)("a",{href:"#",className:"text-sm text-gray-500 hover:text-gray-900",children:"Support"})]})]})})}),h=["/login","/register","/forgot-password","/reset-password"];function u(e){let{children:s}=e,a=(0,t.usePathname)(),l=h.includes(a),n="/chat"===a;return l||n?(0,r.jsx)("html",{lang:"en",children:(0,r.jsx)("body",{className:"antialiased",children:s})}):(0,r.jsx)("html",{lang:"en",children:(0,r.jsx)("body",{className:"antialiased",children:(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)(m,{}),(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)(d,{}),(0,r.jsx)("main",{className:"flex-1 p-6",children:s})]}),(0,r.jsx)(x,{})]})})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[690,647,347,244,947,441,684,358],()=>s(4769)),_N_E=e.O()}]);